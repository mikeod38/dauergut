<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Figure 5</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-1.1/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-1.1/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Rictor/TORC2 mediates gut-to-brain signaling in the regulation of phenotypic plasticity in C.elegans</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    home
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="about.html">raw data</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Figures
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Figure_1.html">Figure 1</a>
    </li>
    <li>
      <a href="Figure_2.html">Figure 2</a>
    </li>
    <li>
      <a href="Figure_3.html">Figure 3</a>
    </li>
    <li>
      <a href="Figure_4.html">Figure 4</a>
    </li>
    <li>
      <a href="Figure_5.html">Figure 5</a>
    </li>
    <li>
      <a href="Figure_6.html">Figure 6</a>
    </li>
    <li>
      <a href="Figure_7.html">Figure 7</a>
    </li>
    <li>
      <a href="Figure_8.html">Figure 8</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Figure 5</h1>

</div>


<div id="intestinal-mtorc2-alters-foraging-behaviors" class="section level1 tabset">
<h1><strong>Intestinal mTORC2 alters foraging behaviors</strong></h1>
<div id="a" class="section level2">
<h2>5A</h2>
<<<<<<< Updated upstream
<p><img src="figures/5A_cartoon.png" alt="C. elegans foraging behavior" /> <strong>Figure 5A</strong><br />
=======
<pre class="r"><code>img.path &lt;- file.path(pathname, &quot;figures/5A_cartoon.png&quot;)</code></pre>
<div style="float: left; width: 50%;">
<pre class="r"><code>include_graphics(img.path)                                   </code></pre>
<p><img src="figures/5A_cartoon.png" width="430" /></p>
</div>
<p><br> <br> </br></p>
<p><strong>Figure 5A</strong><br />
>>>>>>> Stashed changes
Cartoon depicting foraging assay. Each plate contains a L4 hermaphrodite which is allowed to forage overnight on a uniform lawn of E. coli for ~ 16hrs. Lines show tracks on the bacterial lawn.</p>
</div>
<div id="b" class="section level2">
<h2>5B</h2>
<pre class="r"><code>roam&lt;-read.csv(file.path(pathname, &quot;extdata/5B_5E_gridentry.csv&quot;)) %&gt;% 
  mutate(strain = interaction(genotype, line, drop=TRUE),
         strainDate = interaction(strain, date, drop=TRUE),
         plateID = interaction(strainDate,plate, drop=TRUE),
         total.boxes = 186)</code></pre>
<pre class="r"><code>library(lme4)
#simple ANOVA:
lms&lt;-list(lm = lm(n_entries ~ genotype, data = roam),
          lm.log = lm(log(n_entries) ~ genotype, data = roam),
          lm.nboxes = lm(n_boxes ~ genotype, data = roam))

#glmms
glmms&lt;-list(glmm.date = glmer(data=roam, n_entries ~ genotype + (1|date), family=&quot;poisson&quot;),
            glmm.strainDate = glmer(data=roam, n_entries ~ genotype + (1|strainDate), family=&quot;poisson&quot;),
            glmm.obs = glmer(data=roam, n_entries ~ genotype + (1|date) + (1|plateID), family=&quot;poisson&quot;),
            glmm.obsOnly = glmer(data=roam, n_entries ~ genotype + (1|plateID), family=&quot;poisson&quot;),
            glmm.fixDate = glmer(data=roam, n_entries ~ date + genotype + (1|plateID), family=&quot;poisson&quot;),
            glmm.fixDate.ranStrain = glmer(data=roam, n_entries ~ date + genotype + (1|plateID) + (1|strain), family=&quot;poisson&quot;),
            glmm.nest = glmer(data=roam, n_entries ~ genotype + (1|date/plateID), family=&quot;poisson&quot;), #nested individual random effect
            glmm.binom = glmer(data=roam,
                               formula = cbind(roam$n_boxes, roam$total.boxes - roam$n_boxes) ~ genotype + (1|date/plateID),
                               family=&quot;binomial&quot;))

#non mixed glms
glms &lt;- list(glm = glm(data=roam, n_entries ~ date + genotype, family=&quot;poisson&quot;),
             glm.nb = glm.nb(data=roam, n_entries ~ date + genotype, init.theta = 1, link=&quot;log&quot;),
             glm.binom = glm(data=roam, cbind(roam$n_boxes, roam$total.boxes - roam$n_boxes) ~ date + genotype, family=&quot;binomial&quot;))

mods&lt;-c(lms, glms, glmms)

# Not run #
###checking distributional assumptions:
# library(DHARMa)

# sim.resids&lt;-lapply(mods[1:length(mods)], function(x) {
#   simulationOutput &lt;- simulateResiduals(fittedModel = x, n=250, refit = T)
#   #par(mfrow = c(2,2))
#   #plotResiduals(roam$genotype, simulationOutput$scaledResiduals)
#   #plotResiduals(roam$date, simulationOutput$scaledResiduals)
#   #plotResiduals(roam$strain, simulationOutput$scaledResiduals)
#   return(simulationOutput)
#   })
# 
# lapply(sim.resids, function(x) {
#   plotSimulatedResiduals(simulationOutput = x)
# })


# using DHARMa package check distribution of residuals by predictors (takes a while using refit = T):
# (mods.dispersion &lt;-
#   lapply(glmms, function(x) {
#   simulationOutput &lt;- simulateResiduals(fittedModel = x, n=250, refit = T)
#   testOverdispersion(simulationOutput = simulationOutput)
# }))

# nested glmm looks rougly the best for both count date (n_entries) and binary data (n_boxes/total) 
# although there is still some small effect of 
# predicted value on residual quantiles
# end not run #</code></pre>
<pre class="r"><code>strains &lt;- c(&quot;N2&quot;, &quot;ft7&quot;, &quot;ft7;ex[ges-1p]&quot;, &quot;ft7;ex[rict-1p]&quot;)
days &lt;- c(&quot;10_1_16&quot;, &quot;10_5_16&quot;, &quot;10_9_16&quot;)
## remove outliers:

<<<<<<< Updated upstream
roam %&lt;&gt;% dauergut::flag_outliers(df = ., lin.mod = mods$lm, threshold = 4)</code></pre>
<p><img src="Figure_5_files/figure-html/rict-1%20roam%20rescue%20plot-1.png" width="480" /><img src="Figure_5_files/figure-html/rict-1%20roam%20rescue%20plot-2.png" width="480" /></p>
<pre class="r"><code>roam.resc &lt;- roam %&gt;% subset(genotype %in% strains &amp; date %in% days) %&gt;% 
=======
roam %&lt;&gt;% dauergut::flag_outliers(df = ., lin.mod = mods$lm, threshold = 4, noplot = TRUE)

roam.resc &lt;- roam %&gt;% subset(genotype %in% strains &amp; date %in% days) %&gt;% 
>>>>>>> Stashed changes
  mutate(genotype = factor(genotype, levels = strains))

glmm.nest &lt;- update(mods$glmm.nest, data = roam.resc[roam.resc$outlier.status == FALSE,] )
stan.glmm &lt;- stan_glmer(data = roam.resc[roam.resc$outlier.status == FALSE,], 
                        formula = n_entries ~ genotype + (1|date/plateID), family = &quot;poisson&quot;,
<<<<<<< Updated upstream
                        iter = 4000)</code></pre>
<pre><code>## 
## SAMPLING FOR MODEL &#39;count&#39; NOW (CHAIN 1).
## 
## Chain 1, Iteration:    1 / 4000 [  0%]  (Warmup)
## Chain 1, Iteration:  400 / 4000 [ 10%]  (Warmup)
## Chain 1, Iteration:  800 / 4000 [ 20%]  (Warmup)
## Chain 1, Iteration: 1200 / 4000 [ 30%]  (Warmup)
## Chain 1, Iteration: 1600 / 4000 [ 40%]  (Warmup)
## Chain 1, Iteration: 2000 / 4000 [ 50%]  (Warmup)
## Chain 1, Iteration: 2001 / 4000 [ 50%]  (Sampling)
## Chain 1, Iteration: 2400 / 4000 [ 60%]  (Sampling)
## Chain 1, Iteration: 2800 / 4000 [ 70%]  (Sampling)
## Chain 1, Iteration: 3200 / 4000 [ 80%]  (Sampling)
## Chain 1, Iteration: 3600 / 4000 [ 90%]  (Sampling)
## Chain 1, Iteration: 4000 / 4000 [100%]  (Sampling)
##  Elapsed Time: 25.844 seconds (Warm-up)
##                17.1669 seconds (Sampling)
##                43.0109 seconds (Total)
## 
## 
## SAMPLING FOR MODEL &#39;count&#39; NOW (CHAIN 2).
## 
## Chain 2, Iteration:    1 / 4000 [  0%]  (Warmup)
## Chain 2, Iteration:  400 / 4000 [ 10%]  (Warmup)
## Chain 2, Iteration:  800 / 4000 [ 20%]  (Warmup)
## Chain 2, Iteration: 1200 / 4000 [ 30%]  (Warmup)
## Chain 2, Iteration: 1600 / 4000 [ 40%]  (Warmup)
## Chain 2, Iteration: 2000 / 4000 [ 50%]  (Warmup)
## Chain 2, Iteration: 2001 / 4000 [ 50%]  (Sampling)
## Chain 2, Iteration: 2400 / 4000 [ 60%]  (Sampling)
## Chain 2, Iteration: 2800 / 4000 [ 70%]  (Sampling)
## Chain 2, Iteration: 3200 / 4000 [ 80%]  (Sampling)
## Chain 2, Iteration: 3600 / 4000 [ 90%]  (Sampling)
## Chain 2, Iteration: 4000 / 4000 [100%]  (Sampling)
##  Elapsed Time: 26.2039 seconds (Warm-up)
##                19.9072 seconds (Sampling)
##                46.1111 seconds (Total)
## 
## 
## SAMPLING FOR MODEL &#39;count&#39; NOW (CHAIN 3).
## 
## Chain 3, Iteration:    1 / 4000 [  0%]  (Warmup)
## Chain 3, Iteration:  400 / 4000 [ 10%]  (Warmup)
## Chain 3, Iteration:  800 / 4000 [ 20%]  (Warmup)
## Chain 3, Iteration: 1200 / 4000 [ 30%]  (Warmup)
## Chain 3, Iteration: 1600 / 4000 [ 40%]  (Warmup)
## Chain 3, Iteration: 2000 / 4000 [ 50%]  (Warmup)
## Chain 3, Iteration: 2001 / 4000 [ 50%]  (Sampling)
## Chain 3, Iteration: 2400 / 4000 [ 60%]  (Sampling)
## Chain 3, Iteration: 2800 / 4000 [ 70%]  (Sampling)
## Chain 3, Iteration: 3200 / 4000 [ 80%]  (Sampling)
## Chain 3, Iteration: 3600 / 4000 [ 90%]  (Sampling)
## Chain 3, Iteration: 4000 / 4000 [100%]  (Sampling)
##  Elapsed Time: 25.0019 seconds (Warm-up)
##                16.3899 seconds (Sampling)
##                41.3918 seconds (Total)
## 
## 
## SAMPLING FOR MODEL &#39;count&#39; NOW (CHAIN 4).
## 
## Chain 4, Iteration:    1 / 4000 [  0%]  (Warmup)
## Chain 4, Iteration:  400 / 4000 [ 10%]  (Warmup)
## Chain 4, Iteration:  800 / 4000 [ 20%]  (Warmup)
## Chain 4, Iteration: 1200 / 4000 [ 30%]  (Warmup)
## Chain 4, Iteration: 1600 / 4000 [ 40%]  (Warmup)
## Chain 4, Iteration: 2000 / 4000 [ 50%]  (Warmup)
## Chain 4, Iteration: 2001 / 4000 [ 50%]  (Sampling)
## Chain 4, Iteration: 2400 / 4000 [ 60%]  (Sampling)
## Chain 4, Iteration: 2800 / 4000 [ 70%]  (Sampling)
## Chain 4, Iteration: 3200 / 4000 [ 80%]  (Sampling)
## Chain 4, Iteration: 3600 / 4000 [ 90%]  (Sampling)
## Chain 4, Iteration: 4000 / 4000 [100%]  (Sampling)
##  Elapsed Time: 25.7453 seconds (Warm-up)
##                17.8935 seconds (Sampling)
##                43.6388 seconds (Total)</code></pre>
<pre class="r"><code>contrasts&lt;-dauergut::tukey_contrasts(glmm.nest, &quot;genotype&quot;)
=======
                        iter = 4000)
  
contrasts&lt;-dauergut::tukey_contrasts(glmm.nest, &quot;genotype&quot;)
>>>>>>> Stashed changes
mixed&lt;-stan.glmm %&gt;% getStan_CIs(type = &quot;roam&quot;)
plot.contrasts&lt;-c(&quot;&quot;,contrasts$prange[1], &quot;&quot;,&quot;&quot;)
plot.contrasts.2&lt;-c(&quot;&quot;,&quot;&quot;,contrasts$prange[4:5])

labels &lt;- c(&quot;WT&quot;, &quot;rict-1(ft7)&quot;, &quot;rict-1(ft7); +ges-1p::rict-1&quot;, &quot;rict-1(ft7); +rict-1p::rict-1&quot;) %&gt;% stringr::str_wrap(width = 10)

<<<<<<< Updated upstream
(p&lt;-dauergut::plot_CIs(roam.resc, title=&#39;mTORC2 components acts in the intestine to regulate foraging&#39;, 
                       plot.contrasts=plot.contrasts, plot.contrasts.2 = plot.contrasts.2,ypos = 800, offset = 0, type = &quot;grid&quot;, labels = labels))</code></pre>
<p><img src="Figure_5_files/figure-html/rict-1%20roam%20rescue%20plot-3.png" width="480" /></p>
<p><strong>Figure 5B</strong><br />
=======
p&lt;-dauergut::plot_CIs(roam.resc, title=&#39;Intestinal TORC2 regulates adult foraging&#39;, 
                       plot.contrasts=plot.contrasts, plot.contrasts.2 = plot.contrasts.2,ypos = 800, offset = 0, type = &quot;grid&quot;, labels = labels)</code></pre>
<div style="float: left; width: 50%;">
<pre class="r"><code>p</code></pre>
<p><img src="Figure_5_files/figure-html/rict%20roam%20resuce%20plot-1.png" width="480" /></p>
</div>
<p><br> <br> </br> <strong>Figure 5B</strong><br />
>>>>>>> Stashed changes
<em>rict-1</em> acts in the intestine to regulate foraging behavior. Foraging is increased in <em>rict-1</em> mutants, which is rescued using the intestine-specific <em>ges-1</em> promoter. Plot shows exploratory behavior of indicated strains. Each purple dot represents data from a single worm. Median is indicated by a horizontal purple line; error bars are quartiles. Light gray thin and thick vertical bars at right indicate Bayesian 95% and 75% credible intervals, respectively. Numbers in parentheses below indicate the total number of animals examined during 3 independent days of assays. P-values shown are between indicated values; <span style="color:black"><code>***</code></span> and <span style="color:red"><code>***</code></span> - different from WT and rict-1 at P&lt;0.001, respectively (ANOVA with Tukey-type multivariate-t post-hoc adjustment). P-values of differences in means relative to wild-type and corresponding mutant animals are indicated in black and red, respectively.</p>
<pre class="r"><code>library(sjPlot)
sjt.glmer(glmm.nest, depvar.labels = &quot;number of entries&quot;, show.se = TRUE, exp.coef=FALSE)</code></pre>
<table style="border-collapse:collapse; border:none;border-bottom:double;">
<tr>
<td style="padding:0.2cm; border-top:double;">
 
</td>
<td style="border-bottom:1px solid; padding-left:0.5em; padding-right:0.5em; border-top:double;">
 
</td>
<td style="padding:0.2cm; text-align:center; border-bottom:1px solid; border-top:double;" colspan="4">
number of entries
</td>
</tr>
<tr>
<td style="padding:0.2cm; font-style:italic;">
 
</td>
<td style="padding-left:0.5em; padding-right:0.5em; font-style:italic;">
 
</td>
<td style="padding:0.2cm; text-align:center; font-style:italic; ">
Log-Mean
</td>
<td style="padding:0.2cm; text-align:center; font-style:italic; ">
CI
</td>
<td style="padding:0.2cm; text-align:center; font-style:italic; ">
std. Error
</td>
<td style="padding:0.2cm; text-align:center; font-style:italic; ">
p
</td>
</tr>
<tr>
<td colspan="6" style="padding:0.2cm; text-align:left; border-top:1px solid; font-weight:bold; text-align:left;">
Fixed Parts
</td>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left;">
(Intercept)
</td>
<td style="padding-left:0.5em; padding-right:0.5em; ">
 
</td>
<td style="padding:0.2cm; text-align:center; ">
5.33
</td>
<td style="padding:0.2cm; text-align:center; ">
4.97 – 5.69
</td>
<td style="padding:0.2cm; text-align:center; ">
0.18
</td>
<td style="padding:0.2cm; text-align:center; ">
&lt;.001
</td>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left;">
genotype (ft7)
</td>
<td style="padding-left:0.5em; padding-right:0.5em;">
 
</td>
<td style="padding:0.2cm; text-align:center; ">
0.79
</td>
<td style="padding:0.2cm; text-align:center; ">
0.51 – 1.07
</td>
<td style="padding:0.2cm; text-align:center; ">
0.14
</td>
<td style="padding:0.2cm; text-align:center; ">
&lt;.001
</td>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left;">
genotype (ft7;ex[ges-1p])
</td>
<td style="padding-left:0.5em; padding-right:0.5em;">
 
</td>
<td style="padding:0.2cm; text-align:center; ">
0.09
</td>
<td style="padding:0.2cm; text-align:center; ">
-0.13 – 0.32
</td>
<td style="padding:0.2cm; text-align:center; ">
0.11
</td>
<td style="padding:0.2cm; text-align:center; ">
.425
</td>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left;">
genotype (ft7;ex[rict-1p])
</td>
<td style="padding-left:0.5em; padding-right:0.5em;">
 
</td>
<td style="padding:0.2cm; text-align:center; ">
-0.38
</td>
<td style="padding:0.2cm; text-align:center; ">
-0.67 – -0.10
</td>
<td style="padding:0.2cm; text-align:center; ">
0.14
</td>
<td style="padding:0.2cm; text-align:center; ">
.008
</td>
</tr>
<tr>
<td colspan="6" style="padding:0.2cm; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; font-weight:bold; text-align:left; padding-top:0.5em;">
Random Parts
</td>
</tr>
<tr>
<td style="padding:0.2cm; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;">
τ<sub>00, plateID:date</sub>
</td>
<td style="padding-left:0.5em; padding-right:0.5em;">
 
</td>
<td style="padding:0.2cm; text-align:center; padding-top:0.1cm; padding-bottom:0.1cm;" colspan="4">
0.154
</td>
</tr>
<tr>
<td style="padding:0.2cm; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;">
τ<sub>00, date</sub>
</td>
<td style="padding-left:0.5em; padding-right:0.5em;">
 
</td>
<td style="padding:0.2cm; text-align:center; padding-top:0.1cm; padding-bottom:0.1cm;" colspan="4">
0.070
</td>
</tr>
<tr>
<td style="padding:0.2cm; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;">
N<sub>plateID:date</sub>
</td>
<td style="padding-left:0.5em; padding-right:0.5em;">
 
</td>
<td style="padding:0.2cm; text-align:center; padding-top:0.1cm; padding-bottom:0.1cm;" colspan="4">
96
</td>
</tr>
<tr>
<td style="padding:0.2cm; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;">
N<sub>date</sub>
</td>
<td style="padding-left:0.5em; padding-right:0.5em;">
 
</td>
<td style="padding:0.2cm; text-align:center; padding-top:0.1cm; padding-bottom:0.1cm;" colspan="4">
3
</td>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">
ICC<sub>plateID:date</sub>
</td>
<td style="padding-left:0.5em; padding-right:0.5em;">
 
</td>
<td style="padding:0.2cm; text-align:center; padding-top:0.1cm; padding-bottom:0.1cm;" colspan="4">
0.126
</td>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">
ICC<sub>date</sub>
</td>
<td style="padding-left:0.5em; padding-right:0.5em;">
 
</td>
<td style="padding:0.2cm; text-align:center; padding-top:0.1cm; padding-bottom:0.1cm;" colspan="4">
0.057
</td>
</tr>
<tr>
<td style="padding:0.2cm; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;">
Observations
</td>
<td style="padding-left:0.5em; padding-right:0.5em; border-top:1px solid;">
 
</td>
<td style="padding:0.2cm; padding-top:0.1cm; padding-bottom:0.1cm; text-align:center; border-top:1px solid;" colspan="4">
96
</td>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">
Deviance
</td>
<td style="padding-left:0.5em; padding-right:0.5em;">
 
</td>
<td style="padding:0.2cm; text-align:center; padding-top:0.1cm; padding-bottom:0.1cm;" colspan="4">
3.877
</td>
</tr>
</table>
</div>
<div id="c" class="section level2">
<h2>5C</h2>
<pre class="r"><code>#### see extdata/roaming and speed_curvature function for data and analysis, respectively - highly memory intensive</code></pre>
<<<<<<< Updated upstream
<div class="figure">
<img src="figures/5C_roam_dwell_density.png" alt="rict-1 mutation increases roaming behavior" />
<p class="caption">rict-1 mutation increases roaming behavior</p>
=======
<div style="float: left; width: 50;">
<pre class="r"><code>img.path &lt;- file.path(pathname, &quot;figures/5C_roam_dwell_density.png&quot;)
include_graphics(img.path)</code></pre>
<p><img src="figures/5C_roam_dwell_density.png" width="890" /></p>
>>>>>>> Stashed changes
</div>
<p><strong>Figure 5C</strong><br />
Live tracking of foraging behavior. Shown is a representative assay. n &gt; 20 animals per assay. Density plot shows mean speed and angular velocity from tracks binned over 10 sec intervals imaged at 3 frames/sec. Red line indicates delineation of roaming (upper region) and dwelling (lower region) behavior.</p>
</div>
<div id="d" class="section level2">
<h2>5D</h2>
<<<<<<< Updated upstream
<pre class="r"><code>#devtools::install_github(&quot;rasmusab/bayesian_first_aid&quot;)
strains &lt;- c(&quot;N2&quot;,&quot;ft7&quot;)
=======
<pre class="r"><code>strains &lt;- c(&quot;N2&quot;,&quot;ft7&quot;)
>>>>>>> Stashed changes
roam_beh &lt;- read.csv(file.path(pathname, &quot;extdata/5D_roam_dwell_all.csv&quot;)) %&gt;% 
  mutate(genotype = factor(genotype, levels = strains), pct = pct.roam, plateID = interaction(date,genotype,plate))

roam.t &lt;- t.test(roam_beh[roam_beh$genotype == strains[1],]$pct, roam_beh[roam_beh$genotype == strains[2],]$pct)

glmm &lt;- lme4::glmer(data = roam_beh, cbind(roam, dwell) ~ genotype + (1|plateID), family = binomial)

stan.glmm &lt;- stan_glmer(data = roam_beh, 
                        formula = cbind(roam, dwell) ~ genotype + (1|plateID), 
                        family = binomial,
<<<<<<< Updated upstream
                        iter = 4000)</code></pre>
<pre><code>## 
## SAMPLING FOR MODEL &#39;binomial&#39; NOW (CHAIN 1).
## 
## Chain 1, Iteration:    1 / 4000 [  0%]  (Warmup)
## Chain 1, Iteration:  400 / 4000 [ 10%]  (Warmup)
## Chain 1, Iteration:  800 / 4000 [ 20%]  (Warmup)
## Chain 1, Iteration: 1200 / 4000 [ 30%]  (Warmup)
## Chain 1, Iteration: 1600 / 4000 [ 40%]  (Warmup)
## Chain 1, Iteration: 2000 / 4000 [ 50%]  (Warmup)
## Chain 1, Iteration: 2001 / 4000 [ 50%]  (Sampling)
## Chain 1, Iteration: 2400 / 4000 [ 60%]  (Sampling)
## Chain 1, Iteration: 2800 / 4000 [ 70%]  (Sampling)
## Chain 1, Iteration: 3200 / 4000 [ 80%]  (Sampling)
## Chain 1, Iteration: 3600 / 4000 [ 90%]  (Sampling)
## Chain 1, Iteration: 4000 / 4000 [100%]  (Sampling)
##  Elapsed Time: 2.23391 seconds (Warm-up)
##                2.37254 seconds (Sampling)
##                4.60645 seconds (Total)
## 
## 
## SAMPLING FOR MODEL &#39;binomial&#39; NOW (CHAIN 2).
## 
## Chain 2, Iteration:    1 / 4000 [  0%]  (Warmup)
## Chain 2, Iteration:  400 / 4000 [ 10%]  (Warmup)
## Chain 2, Iteration:  800 / 4000 [ 20%]  (Warmup)
## Chain 2, Iteration: 1200 / 4000 [ 30%]  (Warmup)
## Chain 2, Iteration: 1600 / 4000 [ 40%]  (Warmup)
## Chain 2, Iteration: 2000 / 4000 [ 50%]  (Warmup)
## Chain 2, Iteration: 2001 / 4000 [ 50%]  (Sampling)
## Chain 2, Iteration: 2400 / 4000 [ 60%]  (Sampling)
## Chain 2, Iteration: 2800 / 4000 [ 70%]  (Sampling)
## Chain 2, Iteration: 3200 / 4000 [ 80%]  (Sampling)
## Chain 2, Iteration: 3600 / 4000 [ 90%]  (Sampling)
## Chain 2, Iteration: 4000 / 4000 [100%]  (Sampling)
##  Elapsed Time: 2.02368 seconds (Warm-up)
##                1.96593 seconds (Sampling)
##                3.98961 seconds (Total)
## 
## 
## SAMPLING FOR MODEL &#39;binomial&#39; NOW (CHAIN 3).
## 
## Chain 3, Iteration:    1 / 4000 [  0%]  (Warmup)
## Chain 3, Iteration:  400 / 4000 [ 10%]  (Warmup)
## Chain 3, Iteration:  800 / 4000 [ 20%]  (Warmup)
## Chain 3, Iteration: 1200 / 4000 [ 30%]  (Warmup)
## Chain 3, Iteration: 1600 / 4000 [ 40%]  (Warmup)
## Chain 3, Iteration: 2000 / 4000 [ 50%]  (Warmup)
## Chain 3, Iteration: 2001 / 4000 [ 50%]  (Sampling)
## Chain 3, Iteration: 2400 / 4000 [ 60%]  (Sampling)
## Chain 3, Iteration: 2800 / 4000 [ 70%]  (Sampling)
## Chain 3, Iteration: 3200 / 4000 [ 80%]  (Sampling)
## Chain 3, Iteration: 3600 / 4000 [ 90%]  (Sampling)
## Chain 3, Iteration: 4000 / 4000 [100%]  (Sampling)
##  Elapsed Time: 2.01805 seconds (Warm-up)
##                2.08423 seconds (Sampling)
##                4.10228 seconds (Total)
## 
## 
## SAMPLING FOR MODEL &#39;binomial&#39; NOW (CHAIN 4).
## 
## Chain 4, Iteration:    1 / 4000 [  0%]  (Warmup)
## Chain 4, Iteration:  400 / 4000 [ 10%]  (Warmup)
## Chain 4, Iteration:  800 / 4000 [ 20%]  (Warmup)
## Chain 4, Iteration: 1200 / 4000 [ 30%]  (Warmup)
## Chain 4, Iteration: 1600 / 4000 [ 40%]  (Warmup)
## Chain 4, Iteration: 2000 / 4000 [ 50%]  (Warmup)
## Chain 4, Iteration: 2001 / 4000 [ 50%]  (Sampling)
## Chain 4, Iteration: 2400 / 4000 [ 60%]  (Sampling)
## Chain 4, Iteration: 2800 / 4000 [ 70%]  (Sampling)
## Chain 4, Iteration: 3200 / 4000 [ 80%]  (Sampling)
## Chain 4, Iteration: 3600 / 4000 [ 90%]  (Sampling)
## Chain 4, Iteration: 4000 / 4000 [100%]  (Sampling)
##  Elapsed Time: 2.10754 seconds (Warm-up)
##                2.30385 seconds (Sampling)
##                4.4114 seconds (Total)</code></pre>
<pre class="r"><code>mixed &lt;- stan.glmm %&gt;% getStan_CIs(type = &quot;dauer&quot;)
=======
                        iter = 4000)

mixed &lt;- stan.glmm %&gt;% getStan_CIs(type = &quot;dauer&quot;)
>>>>>>> Stashed changes
contrasts &lt;- data.frame(p.value = roam.t$p.value) %&gt;% dauergut::prange()
plot.contrasts &lt;- c(&quot;&quot;,contrasts$prange)

labels = c(&quot;WT&quot;, &quot;rict-1(ft7)&quot;)

<<<<<<< Updated upstream
(p&lt;-dauergut::plot_CIs(roam_beh, plot.contrasts = plot.contrasts, type = &quot;dauer&quot;, title = &quot;&quot;, ypos = 1.05, offset = 0, labels = labels)) + labs(subtitle = &quot;&quot;, y = &quot;proportion roaming&quot;)</code></pre>
<p><img src="Figure_5_files/figure-html/roaming%20mutliple%20assays-1.png" width="288" /></p>
<pre class="r"><code>odds.ratio &lt;- summary(stan.glmm)[2,1] %&gt;% exp()</code></pre>
<p><strong>Figure 5D</strong><br />
Quantification of roaming and dwelling states. <em>rict-1</em> mutants show increased roaming, corresponding to an odds ratio of 3.4704954. Dots show proportion of track time bins in which animals were roaming, with each dot reflecting one assay. Light gray thin and thick vertical bars at right indicate Bayesian 95% and 75% credible intervals, respectively. P-value shown is with respect to wild-type (Welch’s t-test).</p>
=======
p&lt;-dauergut::plot_CIs(roam_beh, plot.contrasts = plot.contrasts, type = &quot;dauer&quot;, title = &quot;&quot;, ypos = 1.05, offset = 0, labels = labels) + labs(subtitle = &quot;&quot;, y = &quot;proportion roaming&quot;)

odds.ratio &lt;- summary(stan.glmm)[2,1] %&gt;% exp()</code></pre>
<div style="float: left; width: 40%;">
<pre class="r"><code>p</code></pre>
<p><img src="Figure_5_files/figure-html/roam%20beh%20plot-1.png" width="288" /></p>
</div>
<p><br> <br> </br></p>
<p><strong>Figure 5D</strong><br />
Quantification of roaming and dwelling states. <em>rict-1</em> mutants show increased roaming, corresponding to an odds ratio of 3.4487577. Dots show proportion of track time bins in which animals were roaming, with each dot reflecting one assay. Light gray thin and thick vertical bars at right indicate Bayesian 95% and 75% credible intervals, respectively. P-value shown is with respect to wild-type (Welch’s t-test).</p>
>>>>>>> Stashed changes
</div>
<div id="e" class="section level2">
<h2>5E</h2>
<p>pdfr-1 is epistatic to rict-1 in foraging behavior.</p>
<pre class="r"><code>  roam&lt;-read.csv(file.path(pathname, &quot;extdata/5B_5E_gridentry.csv&quot;)) %&gt;% 
  mutate(strain = interaction(genotype, line, drop=TRUE),
         strainDate = interaction(strain, date, drop=TRUE),
         plateID = interaction(strainDate,plate, drop=TRUE),
         total.boxes = 186)</code></pre>
<pre class="r"><code>strains &lt;- c(&quot;N2&quot;, &quot;ft7&quot;, &quot;pdf-1&quot;, &quot;pdfr-1&quot;, &quot;pdfr-1;ft7&quot;)
days &lt;- c(&quot;12_20_16&quot;, &quot;1_5_17&quot;, &quot;1_8_17&quot;)
## remove outliers (based on analysis, below):
lm &lt;- lm(n_entries ~ genotype, data = roam)
<<<<<<< Updated upstream
roam %&lt;&gt;% dauergut::flag_outliers(df = ., lin.mod = lm, threshold = 4)</code></pre>
<p><img src="Figure_5_files/figure-html/pdfr-1%20roam%20suppression%20plot-1.png" width="672" /><img src="Figure_5_files/figure-html/pdfr-1%20roam%20suppression%20plot-2.png" width="672" /></p>
<pre class="r"><code>roam.pdfr1 &lt;- roam %&gt;% subset(genotype %in% strains &amp; date %in% days) %&gt;%
=======
roam %&lt;&gt;% dauergut::flag_outliers(df = ., lin.mod = lm, threshold = 4, noplot = TRUE)


roam.pdfr1 &lt;- roam %&gt;% subset(genotype %in% strains &amp; date %in% days) %&gt;%
>>>>>>> Stashed changes
  mutate(genotype = factor(genotype, levels = strains))

glmm.nest &lt;-glmer(data = roam.pdfr1[roam.pdfr1$outlier.status == FALSE,], formula = n_entries ~ genotype + (1|date/plateID), family = &quot;poisson&quot;)
stan.glmm &lt;- stan_glmer(data = roam.pdfr1[roam.pdfr1$outlier.status == FALSE,], 
                        formula = n_entries ~ genotype + (1|date/plateID), family = &quot;poisson&quot;,
<<<<<<< Updated upstream
                        iter = 4000, adapt_delta = 0.99)</code></pre>
<pre><code>## 
## SAMPLING FOR MODEL &#39;count&#39; NOW (CHAIN 1).
## 
## Chain 1, Iteration:    1 / 4000 [  0%]  (Warmup)
## Chain 1, Iteration:  400 / 4000 [ 10%]  (Warmup)
## Chain 1, Iteration:  800 / 4000 [ 20%]  (Warmup)
## Chain 1, Iteration: 1200 / 4000 [ 30%]  (Warmup)
## Chain 1, Iteration: 1600 / 4000 [ 40%]  (Warmup)
## Chain 1, Iteration: 2000 / 4000 [ 50%]  (Warmup)
## Chain 1, Iteration: 2001 / 4000 [ 50%]  (Sampling)
## Chain 1, Iteration: 2400 / 4000 [ 60%]  (Sampling)
## Chain 1, Iteration: 2800 / 4000 [ 70%]  (Sampling)
## Chain 1, Iteration: 3200 / 4000 [ 80%]  (Sampling)
## Chain 1, Iteration: 3600 / 4000 [ 90%]  (Sampling)
## Chain 1, Iteration: 4000 / 4000 [100%]  (Sampling)
##  Elapsed Time: 25.0476 seconds (Warm-up)
##                33.4473 seconds (Sampling)
##                58.4949 seconds (Total)
## 
## 
## SAMPLING FOR MODEL &#39;count&#39; NOW (CHAIN 2).
## 
## Chain 2, Iteration:    1 / 4000 [  0%]  (Warmup)
## Chain 2, Iteration:  400 / 4000 [ 10%]  (Warmup)
## Chain 2, Iteration:  800 / 4000 [ 20%]  (Warmup)
## Chain 2, Iteration: 1200 / 4000 [ 30%]  (Warmup)
## Chain 2, Iteration: 1600 / 4000 [ 40%]  (Warmup)
## Chain 2, Iteration: 2000 / 4000 [ 50%]  (Warmup)
## Chain 2, Iteration: 2001 / 4000 [ 50%]  (Sampling)
## Chain 2, Iteration: 2400 / 4000 [ 60%]  (Sampling)
## Chain 2, Iteration: 2800 / 4000 [ 70%]  (Sampling)
## Chain 2, Iteration: 3200 / 4000 [ 80%]  (Sampling)
## Chain 2, Iteration: 3600 / 4000 [ 90%]  (Sampling)
## Chain 2, Iteration: 4000 / 4000 [100%]  (Sampling)
##  Elapsed Time: 26.496 seconds (Warm-up)
##                30.2942 seconds (Sampling)
##                56.7902 seconds (Total)
## 
## 
## SAMPLING FOR MODEL &#39;count&#39; NOW (CHAIN 3).
## 
## Chain 3, Iteration:    1 / 4000 [  0%]  (Warmup)
## Chain 3, Iteration:  400 / 4000 [ 10%]  (Warmup)
## Chain 3, Iteration:  800 / 4000 [ 20%]  (Warmup)
## Chain 3, Iteration: 1200 / 4000 [ 30%]  (Warmup)
## Chain 3, Iteration: 1600 / 4000 [ 40%]  (Warmup)
## Chain 3, Iteration: 2000 / 4000 [ 50%]  (Warmup)
## Chain 3, Iteration: 2001 / 4000 [ 50%]  (Sampling)
## Chain 3, Iteration: 2400 / 4000 [ 60%]  (Sampling)
## Chain 3, Iteration: 2800 / 4000 [ 70%]  (Sampling)
## Chain 3, Iteration: 3200 / 4000 [ 80%]  (Sampling)
## Chain 3, Iteration: 3600 / 4000 [ 90%]  (Sampling)
## Chain 3, Iteration: 4000 / 4000 [100%]  (Sampling)
##  Elapsed Time: 22.579 seconds (Warm-up)
##                37.1612 seconds (Sampling)
##                59.7402 seconds (Total)
## 
## 
## SAMPLING FOR MODEL &#39;count&#39; NOW (CHAIN 4).
## 
## Chain 4, Iteration:    1 / 4000 [  0%]  (Warmup)
## Chain 4, Iteration:  400 / 4000 [ 10%]  (Warmup)
## Chain 4, Iteration:  800 / 4000 [ 20%]  (Warmup)
## Chain 4, Iteration: 1200 / 4000 [ 30%]  (Warmup)
## Chain 4, Iteration: 1600 / 4000 [ 40%]  (Warmup)
## Chain 4, Iteration: 2000 / 4000 [ 50%]  (Warmup)
## Chain 4, Iteration: 2001 / 4000 [ 50%]  (Sampling)
## Chain 4, Iteration: 2400 / 4000 [ 60%]  (Sampling)
## Chain 4, Iteration: 2800 / 4000 [ 70%]  (Sampling)
## Chain 4, Iteration: 3200 / 4000 [ 80%]  (Sampling)
## Chain 4, Iteration: 3600 / 4000 [ 90%]  (Sampling)
## Chain 4, Iteration: 4000 / 4000 [100%]  (Sampling)
##  Elapsed Time: 31.7353 seconds (Warm-up)
##                30.064 seconds (Sampling)
##                61.7992 seconds (Total)</code></pre>
<pre class="r"><code>contrasts&lt;-dauergut::tukey_contrasts(glmm.nest, &quot;genotype&quot;)
=======
                        iter = 4000, adapt_delta = 0.99)

contrasts&lt;-dauergut::tukey_contrasts(glmm.nest, &quot;genotype&quot;)
>>>>>>> Stashed changes
mixed&lt;-stan.glmm %&gt;% getStan_CIs()
plot.contrasts&lt;-c(&quot;&quot;,contrasts$prange[1:4])
plot.contrasts.2&lt;-c(&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,contrasts$prange[10])

labels &lt;- c(&quot;WT&quot;, &quot;rict-1(ft7)&quot;, &quot;pdf-1(tm1996)&quot;, &quot;pdfr-1(ok3425)&quot;, &quot;rict-1(ft7); pdfr-1(ok3425)&quot;) %&gt;%
  stringr::str_wrap(width=10)

(p&lt;-dauergut::plot_CIs(roam.pdfr1, title=&#39;rict-1 effects on roaming behavior depends on pdf-1/pdfr-1 signaling&#39;, plot.contrasts=plot.contrasts, plot.contrasts.2 = plot.contrasts.2,ypos = 800, offset = 50, type = &quot;grid&quot;, labels = labels))</code></pre>
<<<<<<< Updated upstream
<p><img src="Figure_5_files/figure-html/pdfr-1%20roam%20suppression%20plot-3.png" width="672" /></p>
</div>
<div id="s2a" class="section level2">
<h2>S2A</h2>
<pre class="r"><code>#run speed_curvature_4x_parallel to reproduce these data from raw position, speed data.</code></pre>
<p><img src="figures/S2A_starve_roam_density.png" alt="rict-1 mutation increases roaming behavior" /> ##S2B</p>
=======
<p><img src="Figure_5_files/figure-html/pdfr-1%20roam%20suppression%20plot-1.png" width="672" /></p>
<p><strong>Figure 5E</strong><br />
TORC2 requires PDFR-1 neuropeptide signaling to modulate foraging behavior. Exploratory behavior of indicated strains. Each purple dot represents data from a single worm. Median is indicated by a horizontal purple line; error bars are quartiles. Light gray thin and thick vertical bars at right indicate Bayesian 95% and 75% credible intervals, respectively. Numbers in parentheses below indicate the total number of animals examined during 3 independent days of assays. P-values shown are between indicated values; <span style="color:black"><code>***</code></span> and <span style="color:red"><code>***</code></span> - different from WT and rict-1 at P&lt;0.001, respectively (ANOVA with Tukey-type multivariate-t post-hoc adjustment). P-values of differences in means relative to wild-type and corresponding mutant animals are indicated in black and red, respectively.</p>
</div>
<div id="s2a" class="section level2">
<h2>S2A</h2>
<div <div="" style="float: left; width: 50%;">
<pre class="r"><code>#run speed_curvature_4x_parallel to reproduce these data from raw position, speed data located in /extdata/
img.path &lt;- file.path(pathname, &quot;figures/S2A_starve_roam_density.png&quot;)
include_graphics(img.path)</code></pre>
<p><img src="figures/S2A_starve_roam_density.png" width="500" /></p>
</div>
<p><br> <br> </br></p>
<p><strong>Figure S2A</strong><br />
Live tracking of foraging behavior in starved worms. Shown is a representative assay. n &gt; 20 animals per assay. Density plot shows mean speed and angular velocity from tracks binned over 10 sec intervals imaged at 3 frames/sec. Red line indicates delineation of roaming and dwelling behavior.</p>
</div>
<div id="s2b" class="section level2">
<h2>S2B</h2>
>>>>>>> Stashed changes
<pre class="r"><code>devtools::install_github(&quot;rasmusab/bayesian_first_aid&quot;)
strains &lt;- c(&quot;N2&quot;,&quot;rict-1(ft7)&quot;)
roam_beh &lt;- read.csv(file.path(pathname, &quot;extdata/S2B_starved_roam_dwell_all.csv&quot;)) %&gt;% 
  mutate(genotype = factor(genotype, levels = strains), pct = pct.roam, plateID = interaction(date,genotype,plate))
<<<<<<< Updated upstream


roam.t &lt;- t.test(roam_beh[roam_beh$genotype == strains[1],]$pct, roam_beh[roam_beh$genotype == strains[2],]$pct)

glmm &lt;- lme4::glmer(data = roam_beh, cbind(roam, dwell) ~ genotype + (1|plateID), family = binomial)

stan.glmm &lt;- stan_glmer(data = roam_beh, 
                        formula = cbind(roam, dwell) ~ genotype + (1|plateID), 
                        family = binomial,
                        iter = 4000)</code></pre>
<pre><code>## 
## SAMPLING FOR MODEL &#39;binomial&#39; NOW (CHAIN 1).
## 
## Chain 1, Iteration:    1 / 4000 [  0%]  (Warmup)
## Chain 1, Iteration:  400 / 4000 [ 10%]  (Warmup)
## Chain 1, Iteration:  800 / 4000 [ 20%]  (Warmup)
## Chain 1, Iteration: 1200 / 4000 [ 30%]  (Warmup)
## Chain 1, Iteration: 1600 / 4000 [ 40%]  (Warmup)
## Chain 1, Iteration: 2000 / 4000 [ 50%]  (Warmup)
## Chain 1, Iteration: 2001 / 4000 [ 50%]  (Sampling)
## Chain 1, Iteration: 2400 / 4000 [ 60%]  (Sampling)
## Chain 1, Iteration: 2800 / 4000 [ 70%]  (Sampling)
## Chain 1, Iteration: 3200 / 4000 [ 80%]  (Sampling)
## Chain 1, Iteration: 3600 / 4000 [ 90%]  (Sampling)
## Chain 1, Iteration: 4000 / 4000 [100%]  (Sampling)
##  Elapsed Time: 2.07649 seconds (Warm-up)
##                2.2742 seconds (Sampling)
##                4.35069 seconds (Total)
## 
## 
## SAMPLING FOR MODEL &#39;binomial&#39; NOW (CHAIN 2).
## 
## Chain 2, Iteration:    1 / 4000 [  0%]  (Warmup)
## Chain 2, Iteration:  400 / 4000 [ 10%]  (Warmup)
## Chain 2, Iteration:  800 / 4000 [ 20%]  (Warmup)
## Chain 2, Iteration: 1200 / 4000 [ 30%]  (Warmup)
## Chain 2, Iteration: 1600 / 4000 [ 40%]  (Warmup)
## Chain 2, Iteration: 2000 / 4000 [ 50%]  (Warmup)
## Chain 2, Iteration: 2001 / 4000 [ 50%]  (Sampling)
## Chain 2, Iteration: 2400 / 4000 [ 60%]  (Sampling)
## Chain 2, Iteration: 2800 / 4000 [ 70%]  (Sampling)
## Chain 2, Iteration: 3200 / 4000 [ 80%]  (Sampling)
## Chain 2, Iteration: 3600 / 4000 [ 90%]  (Sampling)
## Chain 2, Iteration: 4000 / 4000 [100%]  (Sampling)
##  Elapsed Time: 1.99838 seconds (Warm-up)
##                1.5481 seconds (Sampling)
##                3.54647 seconds (Total)
## 
## 
## SAMPLING FOR MODEL &#39;binomial&#39; NOW (CHAIN 3).
## 
## Chain 3, Iteration:    1 / 4000 [  0%]  (Warmup)
## Chain 3, Iteration:  400 / 4000 [ 10%]  (Warmup)
## Chain 3, Iteration:  800 / 4000 [ 20%]  (Warmup)
## Chain 3, Iteration: 1200 / 4000 [ 30%]  (Warmup)
## Chain 3, Iteration: 1600 / 4000 [ 40%]  (Warmup)
## Chain 3, Iteration: 2000 / 4000 [ 50%]  (Warmup)
## Chain 3, Iteration: 2001 / 4000 [ 50%]  (Sampling)
## Chain 3, Iteration: 2400 / 4000 [ 60%]  (Sampling)
## Chain 3, Iteration: 2800 / 4000 [ 70%]  (Sampling)
## Chain 3, Iteration: 3200 / 4000 [ 80%]  (Sampling)
## Chain 3, Iteration: 3600 / 4000 [ 90%]  (Sampling)
## Chain 3, Iteration: 4000 / 4000 [100%]  (Sampling)
##  Elapsed Time: 1.97075 seconds (Warm-up)
##                1.72685 seconds (Sampling)
##                3.6976 seconds (Total)
## 
## 
## SAMPLING FOR MODEL &#39;binomial&#39; NOW (CHAIN 4).
## 
## Chain 4, Iteration:    1 / 4000 [  0%]  (Warmup)
## Chain 4, Iteration:  400 / 4000 [ 10%]  (Warmup)
## Chain 4, Iteration:  800 / 4000 [ 20%]  (Warmup)
## Chain 4, Iteration: 1200 / 4000 [ 30%]  (Warmup)
## Chain 4, Iteration: 1600 / 4000 [ 40%]  (Warmup)
## Chain 4, Iteration: 2000 / 4000 [ 50%]  (Warmup)
## Chain 4, Iteration: 2001 / 4000 [ 50%]  (Sampling)
## Chain 4, Iteration: 2400 / 4000 [ 60%]  (Sampling)
## Chain 4, Iteration: 2800 / 4000 [ 70%]  (Sampling)
## Chain 4, Iteration: 3200 / 4000 [ 80%]  (Sampling)
## Chain 4, Iteration: 3600 / 4000 [ 90%]  (Sampling)
## Chain 4, Iteration: 4000 / 4000 [100%]  (Sampling)
##  Elapsed Time: 2.12363 seconds (Warm-up)
##                1.87483 seconds (Sampling)
##                3.99846 seconds (Total)</code></pre>
<pre class="r"><code>mixed &lt;- stan.glmm %&gt;% getStan_CIs(type = &quot;dauer&quot;)
contrasts &lt;- data.frame(p.value = roam.t$p.value) %&gt;% dauergut::prange()
plot.contrasts &lt;- c(&quot;&quot;,contrasts$prange)

labels &lt;- c(&quot;WT&quot;, &quot;rict-1(ft7)&quot;)

(p&lt;-dauergut::plot_CIs(roam_beh, plot.contrasts = plot.contrasts, type = &quot;dauer&quot;, title = &quot;&quot;, ypos = 1.05, offset = 0, labels = labels) + labs(subtitle = &quot;&quot;, y = &quot;proportion roaming&quot;))</code></pre>
<p><img src="Figure_5_files/figure-html/starved%20roam%20quantification-1.png" width="672" /></p>
</div>
<div id="s2c" class="section level2">
<h2>S2C</h2>
<pre class="r"><code>strains&lt;-c(&quot;N2&quot;,&quot;rict-1(ft7)&quot;,&quot;rict-1(ft7);pdfr-1&quot;)
foods = &quot;OP50&quot;

pdfr_dauer&lt;-read.csv(file.path(pathname, &quot;extdata/S2C_pdfr_dauer.csv&quot;)) %&gt;% format_dauer(p.dauer = &quot;non&quot;)
=======
>>>>>>> Stashed changes

pdfr_dauer %&lt;&gt;% mutate(adj.pct = case_when(.$pct == 0 ~ 0.01, .$pct == 1 ~ 0.99, TRUE ~ .$pct))

lm &lt;- pdfr_dauer %&gt;% dauer_ANOVA()

stan.glmm &lt;- pdfr_dauer %&gt;% run_dauer_stan

contrasts&lt;-dauergut::tukey_contrasts(lm,&quot;genotype&quot;)
mixed&lt;-stan.glmm %&gt;% getStan_CIs(type=&quot;dauer&quot;)
plot.contrasts&lt;-c(&quot;&quot;,contrasts$prange[1:2])
plot.contrasts.2&lt;-c(&quot;&quot;,&quot;&quot;,contrasts$prange[3])

labels = c(&quot;WT&quot;, &quot;rict-1(ft7)&quot;, &quot; rict-1(ft7); pdfr-1(ok3425)&quot;) %&gt;% stringr::str_wrap(width = 10)

(p&lt;-dauergut::plot_CIs(pdfr_dauer, title=&#39;pdfr-1 does not suppress the rict-1 dauer phenotype&#39;, plot.contrasts, plot.contrasts.2, ypos = 1.1, offset = 0.050, type = &quot;dauer&quot;, labels = labels))</code></pre>
<p><img src="Figure_5_files/figure-html/pdfr-1%20dauer%20phenotype-1.png" width="672" /></p>
</div>
</div>

roam.t &lt;- t.test(roam_beh[roam_beh$genotype == strains[1],]$pct, roam_beh[roam_beh$genotype == strains[2],]$pct)

glmm &lt;- lme4::glmer(data = roam_beh, cbind(roam, dwell) ~ genotype + (1|plateID), family = binomial)

stan.glmm &lt;- stan_glmer(data = roam_beh, 
                        formula = cbind(roam, dwell) ~ genotype + (1|plateID), 
                        family = binomial,
                        iter = 4000)

mixed &lt;- stan.glmm %&gt;% getStan_CIs(type = &quot;dauer&quot;)
contrasts &lt;- data.frame(p.value = roam.t$p.value) %&gt;% dauergut::prange()
plot.contrasts &lt;- c(&quot;&quot;,contrasts$prange)

labels &lt;- c(&quot;WT&quot;, &quot;rict-1(ft7)&quot;)

p&lt;-dauergut::plot_CIs(roam_beh, plot.contrasts = plot.contrasts, type = &quot;dauer&quot;, title = &quot;&quot;, ypos = 1.05, offset = 0, labels = labels) + labs(subtitle = &quot;&quot;, y = &quot;proportion roaming&quot;)</code></pre>
<div style="float: left; width: 50%;">
<pre class="r"><code>p</code></pre>
<p><img src="Figure_5_files/figure-html/plot%20starved%20roam%20quantified-1.png" width="672" /></p>
</div>
<p><strong>Figure S2B</strong><br />
Quantification of roaming and dwelling states. Dots show proportion of track time bins in which animals were roaming, with each dot reflecting one assay. Light gray thin and thick vertical bars at right indicate Bayesian 95% and 75% credible intervals, respectively. P-value shown is with respect to wild-type (Welch’s t-test).</p>
</div>
<div id="s2c" class="section level2">
<h2>S2C</h2>
<pre class="r"><code>strains&lt;-c(&quot;N2&quot;,&quot;rict-1(ft7)&quot;,&quot;rict-1(ft7);pdfr-1&quot;)
foods = &quot;OP50&quot;

pdfr_dauer&lt;-read.csv(file.path(pathname, &quot;extdata/S2C_pdfr_dauer.csv&quot;)) %&gt;% format_dauer(p.dauer = &quot;non&quot;)

pdfr_dauer %&lt;&gt;% mutate(adj.pct = case_when(.$pct == 0 ~ 0.01, .$pct == 1 ~ 0.99, TRUE ~ .$pct))

lm &lt;- pdfr_dauer %&gt;% dauer_ANOVA()

stan.glmm &lt;- pdfr_dauer %&gt;% run_dauer_stan

contrasts&lt;-dauergut::tukey_contrasts(lm,&quot;genotype&quot;)
mixed&lt;-stan.glmm %&gt;% getStan_CIs(type=&quot;dauer&quot;)
plot.contrasts&lt;-c(&quot;&quot;,contrasts$prange[1:2])
plot.contrasts.2&lt;-c(&quot;&quot;,&quot;&quot;,contrasts$prange[3])

labels = c(&quot;WT&quot;, &quot;rict-1(ft7)&quot;, &quot; rict-1(ft7); pdfr-1(ok3425)&quot;) %&gt;% stringr::str_wrap(width = 10)

(p&lt;-dauergut::plot_CIs(pdfr_dauer, title=&#39;pdfr-1 does not suppress the rict-1 dauer phenotype&#39;, plot.contrasts, plot.contrasts.2, ypos = 1.1, offset = 0.050, type = &quot;dauer&quot;, labels = labels))</code></pre>
<p><img src="Figure_5_files/figure-html/pdfr-1%20dauer%20phenotype-1.png" width="384" /></p>
<p><strong>Figure S2C</strong><br />
pdfr-1 mutations do not suppress rict-1 dauer formation phenotypes. Each dot indicates the average number of dauers formed in a single assay. Horizontal bar indicates median. Light gray thin and thick vertical bars at right indicate Bayesian 95% and 75% credible intervals, respectively. Numbers in parentheses below indicate the number of independent assays with at least 27 animals each. P-value shown in comparison to rict-1 mutants.</p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
